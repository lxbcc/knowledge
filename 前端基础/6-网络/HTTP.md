[「2021」高频前端面试题汇总之计算机网络篇 - 掘金](https://juejin.cn/post/6908327746473033741#heading-24)
[2023高频前端面试题合集之网络篇 - 掘金](https://juejin.cn/post/7197070078360322109#heading-8)
# http
#### http协议
**概念**： HTTP 是超文本传输协议，它定义了客户端和服务器之间交换报文的格式和方式，默认使用 80 端口。它使用 TCP 作为传输层协议，保证了数据传输的可靠性。
**特点**
- 支持客户端/服务器模式
- 简单快速：客户向服务器请求服务时，只需传送请求方法和路径。由于 HTTP 协议简单，使得 HTTP 服务器的程序规模小，因而通信速度很快。
- 无连接：无连接就是限制每次连接只处理一个请求。服务器处理完客户的请求，并收到客户的应答后，即断开连接，采用这种方式可以节省传输时间。
- 无状态：HTTP 协议是无状态协议，这里的状态是指通信过程的上下文信息。缺少状态意味着如果后续处理需要前面的信息，则它必须重传，这样可能会导致每次连接传送的数据量增大。另一方面，在服务器不需要先前信息时它的应答就比较快。
- 灵活：HTTP 允许传输任意类型的数据对象。正在传输的类型由 Content-Type 加以标记。
**缺点**
[HTTP 优缺点 - 心如止水 - 博客园](https://www.cnblogs.com/lzcnblogs/p/16667141.html)
[Http的优缺点 - 知乎](https://zhuanlan.zhihu.com/p/570560641)
- 无状态
	在完成有关联性的操作时会非常麻烦。例如登录->添加购物车->下单->结算->支付，这系列操作都要知道用户的身份才行。但服务器不知道这些请求是有关联的，每次都要问一遍身份信息。
- 明文传输
- 不安全
	HTTP 比较严重的缺点就是不安全：  
	a.通信使用明文（不加密），内容可能会被窃听。比如，账号信息容易泄漏；  
	b.不验证通信方的身份，因此有可能遭遇伪装。比如，访问假的淘宝、拼多多；  
	c.无法证明报文的完整性，所以有可能已遭篡改。比如，网页上植入垃圾广告，视觉污染；

#### http 常见请求头、响应头
[http请求头响应头大全\_51CTO博客\_http请求头](https://blog.51cto.com/u_10954139/4858828)
[常见的http请求头和响应头 - 知乎](https://zhuanlan.zhihu.com/p/579504784)
[常见的http请求头和响应头 - 知乎](https://zhuanlan.zhihu.com/p/579504784)
**请求头**
Accept
	告诉WEB服务器自己接受什么介质类型，*/* 表示任何类型，type/* 表示该类型下的所有子类型，type/sub-type
	`Accept: text/html` 浏览器可以接受服务器回发的类型为 text/html。
	`Accept: */*` 代表浏览器可以处理所有类型,(一般浏览器发给服务器都是发这个)。
Accept-Charset
	浏览器告诉服务器自己能接收的字符集。
Accept-Encoding
	浏览器申明自己接收的编码方法，通常指定压缩方法，是否支持压缩，支持什么压缩方法（gzip，deflate）。
Accept-Language
	`Accept-Language:zh-CN,zh;q=0.9` 浏览器申明自己接收的语言。
Host：
	发出请求的页面所在的域 主机名 + 端口号
Referer：发出请求的页面的URL
If-Modified-Since
	如果请求的对象在该头部指定的时间之后修改了，才执行请求的动作（比如返回对象），否则返回代码304，告诉浏览器该对象没有修改。例如：If-Modified-Since：Thu, 10 Apr 2008 09:14:42 GMT
Referer
	浏览器向WEB 服务器表明自己是从哪个网页URL获得点击当前请求中的网址/URL
Host
	客户端指定自己想访问的WEB服务器的域名/IP 地址和端口号。如Host：rss.sina.com.cn
User-Agent
	 客户端使用的操作系统和浏览器的名称和版本。
Cookie


在响应中，`Content-Type` 标头告诉客户端实际返回的内容的内容类型。
在请求中， (如 `POST` 或 `PUT`)，客户端告诉服务器实际发送的数据类型。


**响应头**
**Allow**：服务器支持哪些请求方法
**Content-Type**： 服务端返回的实体内容的类型
	`Content-Type：text/html;charset=UTF-8` 告诉客户端，资源文件的类型，还有字符编码，客户端通过utf-8对资源进行解码，然后对资源进行html解析。通常我们会看到有些网站是乱码的，往往就是服务器端没有返回正确的编码。
**Content-Encoding**： 内容编码方式
Last-Modified
	WEB服务器认为对象的最后修改时间，比如文件的最后修改时间，动态页面的最后产生时间等等
**Server** 服务器的一些相关信息
**Date** 表示消息发送的时间
**Connection**： 浏览器与服务器之间连接的类型
**Content-Language**：响应内容所使用的语言
#### 请求报文和响应报文的组成
一、请求头：
由四部分组成：首行、header（头）、空行、body(存放url参数)。
首行：传参方法(GET或POST)+url+版本号(例如Http1.1)。
header：由多组参数（key-value）构成。
空行：标志着header的结束。
body：如果传参方法为GET，那么body为空，如果为POST那么传送的参数都在body中。
二、响应头：
由四部分组成：首行、header（头）、空行、body
首行：版本号+状态码+状态码信息说明
header：由多组参数（key-value）构成。
空行：标志着header的结束。
body：服务器返回给浏览器的响应信息，响应数据的格式是根据服务器来的，常见的响应数据格式有：text/html、application/json 等。

#### 常见的HTTP请求方法

- GET: 向服务器获取数据；
- POST：将实体提交到指定的资源，通常会造成服务器资源的修改；
- PUT：上传文件，更新数据；
- DELETE：删除服务器上的对象；
- HEAD：获取报文首部，与GET相比，不返回报文主体部分；
- OPTIONS：询问支持的请求方法，用来跨域请求；预检请求
- CONNECT：要求在与代理服务器通信时建立隧道，使用隧道进行TCP通信；
- TRACE: 回显服务器收到的请求，主要⽤于测试或诊断。

OPTIONS请求方法的**主要用途**有两个：

- 获取服务器支持的所有HTTP请求方法；
- 用来检查访问权限。例如：在进行 CORS 跨域资源共享时，对于复杂请求，就是使用 OPTIONS 方法发送嗅探请求，以判断是否有对指定资源的访问权限。

#### GET和POST的请求的区别
- **应用场景：** GET 请求是一个幂等的请求，一般 Get 请求用于对服务器资源不会产生影响的场景，比如说请求一个网页的资源。而 Post 不是一个幂等的请求，一般用于对服务器资源会产生影响的情景，比如注册用户这一类的操作。
- **是否缓存：** 因为两者应用场景不同，浏览器一般会对 Get 请求缓存，但很少对 Post 请求缓存。
- **发送的报文格式：** Get 请求的报文中实体部分为空，Post 请求的报文中实体部分一般为向服务器发送的数据。
- **安全性：** Get 请求可以将请求的参数放入 url 中向服务器发送，这样的做法相对于 Post 请求来说是不太安全的，因为请求的 url 会被保留在历史记录中。
- **请求长度：** 浏览器由于对 url 长度的限制，所以会影响 get 请求发送数据时的长度。这个限制是浏览器规定的，并不是 RFC 规定的。
- **参数类型：** post 的参数传递支持更多的数据类型。

![[Pasted image 20230826145935.png]]

#### Http状态码
[HTTP 状态码完整指南 - 掘金](https://juejin.cn/post/7164270035681148942?searchId=202308261452591BDBC243BFE2933C5F9D)
2**
```
200 OK，表示从客户端发来的请求在服务器端被正确处理
204 No content，表示请求成功，但响应报文不含实体的主体部分
205 Reset Content，表示请求成功，但响应报文不含实体的主体部分，但是与 204 响应不同在于要求请求方重置内容
206 Partial Content，进行范围请求
```
3**
```
301 moved permanently，永久性重定向，表示资源已被分配了新的 URL
302 found，临时性重定向，表示资源临时被分配了新的 URL
303 see other，表示资源存在着另一个 URL，应使用 GET 方法获取资源
304 not modified，表示服务器允许访问资源，但因发生请求未满足条件的情况
307 temporary redirect，临时重定向，和302含义类似，但是期望客户端保持请求方法不变向新的地址发出请求
```
4**
```
400 bad request，请求报文存在语法错误
401 unauthorized，表示发送的请求需要有通过 HTTP 认证的认证信息
403 forbidden，表示对请求资源的访问被服务器拒绝
404 not found，表示在服务器上没有找到请求的资源、
405 Method Not Allowed
```
5XX 服务器错误
```
500 internal sever error，表示服务器端在执行请求时发生了错误
501 Not Implemented，表示服务器不支持当前请求所需要的某个功能
503 service unavailable，表明服务器暂时处于超负载或正在停机维护，无法处理请求
```
#### HTTP 1.0 和 HTTP 1.1 之间有哪些区别？
[HTTP1.0、HTTP1.1、HTTP2.0 协议的区别 - 掘金](https://juejin.cn/post/7235637629705715749?searchId=20230826165252601E5217412D98427422)
**连接方面**，http1.0 默认使用非持久连接，而 http1.1 默认使用持久连接。http1.1 通过使用持久连接来使多个 http 请求复用同一个 TCP 连接，以此来避免使用非持久连接时每次需要建立连接的时延
**支持断点续传**，在 http1.0 中，存在一些浪费带宽的现象，例如客户端只是需要某个对象的一部分，而服务器却将整个对象送过来了，并且不支持断点续传功能，http1.1 则在请求头引入了 range 头域，它允许只请求资源的某个部分，即返回码是 206（Partial Content），这样就方便了开发者自由的选择以便于充分利用带宽和连接。
**缓存方面**，在 http1.0 中主要使用 header 里的 If-Modified-Since、Expires 来做为缓存判断的标准，http1.1 则引入了更多的缓存控制策略，例如 Etag、If-Unmodified-Since、If-Match、If-None-Match 等更多可供选择的缓存头来控制缓存策略。
**host字段** http1.1 中**新增了 host 字段**，用来指定服务器的域名。http1.0 中认为每台服务器都绑定一个唯一的 IP 地址，因此，请求消息中的 URL 并没有传递主机名（hostname）。但随着虚拟主机技术的发展，在一台物理服务器上可以存在多个虚拟主机，并且它们共享一个IP地址。因此有了 host 字段，这样就可以将请求发往到同一台服务器上的不同网站。
**请求方法** http1.1 相对于 http1.0 还新增了很多**请求方法**，如 PUT、HEAD、OPTIONS 等。

#### HTTP 2.0相比HTTP 1.x具有以下优点：

1. `多路复用`：HTTP 2.0引入了多路复用技术，允许在同一个TCP连接上同时发送多个请求和响应。这样可以避免HTTP 1.x中的队头阻塞问题，提高请求的并发处理能力，加快页面加载速度。
2. `二进制格式`：HTTP 2.0使用二进制格式传输数据，取代了HTTP 1.x中的文本格式。二进制格式的解析效率更高，减少了数据传输的大小，节省了带宽和时间。
3. `头部压缩`：HTTP 2.0支持头部压缩，减少了传输的开销。通过使用HPACK算法对请求和响应的头部进行压缩，可以显著减小头部大小，提高性能和效率。
4. `服务器推送`：HTTP 2.0引入了服务器推送机制，允许服务器主动向客户端推送与当前请求相关的资源。这样可以减少客户端的请求次数，提前将可能需要的资源发送给客户端，加快页面加载速度。
5. `优先级和流控制`：HTTP 2.0支持优先级和流控制机制，可以对请求和响应设置优先级。通过设置优先级，可以确保重要的资源优先加载，提供更好的用户体验。流控制机制可以控制数据流的速率，防止接收方被过多的数据淹没。
6. `强化安全性`：HTTP 2.0要求使用TLS加密传输，提供更强的安全性。通过使用TLS，可以保护数据的机密性和完整性，防止中间人攻击和数据篡改。

#### keep-alive
[HTTP请求中的Keep-Alive模式详解 - 掘金](https://juejin.cn/post/6934517636139057165?searchId=202308261626485B2E3D73CE710A47193C)

## https
#### 什么是HTTPS协议？
超文本传输安全协议（Hypertext Transfer Protocol Secure，简称：HTTPS）是一种通过计算机网络进行安全通信的传输协议。HTTPS经由HTTP进行通信，利用SSL/TLS来加密数据包。HTTPS的主要目的是提供对网站服务器的身份认证，保护交换数据的隐私与完整性。

HTTP协议采用**明文传输**信息，存在**信息窃听**、**信息篡改**和**信息劫持**的风险，而协议TLS/SSL具有**身份验证**、**信息加密**和**完整性校验**的功能，可以避免此类问题发生。

安全层的主要职责就是**对发起的HTTP请求的数据进行加密操作** 和 **对接收到的HTTP的内容进行解密操作**。

#### TLS/SSL工作原理
TLS/SSL的功能实现主要依赖三类基本算法：**散列函数hash**、**对称加密**、**非对称加密**。这三类算法的作用如下：
- 基于散列函数验证信息的完整性
- 对称加密算法采用协商的秘钥对数据加密
- 非对称加密实现身份认证和秘钥协商

#### HTTPS握手 
- 客户端请求服务器，并告诉服务器自身支持的加密算法以及密钥长度等信息
- 服务器响应公钥和服务器证书
- 客户端验证证书是否合法，然后生成一个会话密钥，并用服务器的公钥加密密钥，把加密的结果通过请求发送给服务器
- 服务器使用私钥解密被加密的会话密钥并保存起来，然后使用会话密钥加密消息响应给客户端，表示自己已经准备就绪
- 客户端使用会话密钥解密消息，知道了服务器已经准备就绪。
- 后续客户端和服务器使用会话密钥加密信息传递消息

#### HTTPS的特点

HTTPS的**优点**如下：

- 使用HTTPS协议可以认证用户和服务器，确保数据发送到正确的客户端和服务器；
- 使用HTTPS协议可以进行加密传输、身份认证，通信更加安全，防止数据在传输过程中被窃取、修改，确保数据安全性；
- HTTPS是现行架构下最安全的解决方案，虽然不是绝对的安全，但是大幅增加了中间人攻击的成本；

HTTPS的**缺点**如下：

- HTTPS需要做服务器和客户端双方的加密个解密处理，耗费更多服务器资源，过程复杂；
- HTTPS协议握手阶段比较费时，增加页面的加载时间；
- SSL证书是收费的，功能越强大的证书费用越高；
- HTTPS连接服务器端资源占用高很多，支持访客稍多的网站需要投入更大的成本；
- SSL证书需要绑定IP，不能再同一个IP上绑定多个域名。



## TCP UDP
TCP
**面向连接**
**仅支持单播传输**
**面向字节流**
**可靠传输**
**提供拥塞控制**
**提供全双工通信**

![[Pasted image 20230822211545.png]]

#### TCP和UDP的使用场景

- **TCP应用场景：** 效率要求相对低，但对准确性要求相对高的场景。因为传输中需要对数据确认、重发、排序等操作，相比之下效率没有UDP高。例如：文件传输（准确高要求高、但是速度可以相对慢）、接受邮件、远程登录。
- **UDP应用场景：** 效率要求相对高，对准确性要求相对低的场景。例如：QQ聊天、在线视频、网络语音电话（即时通讯，速度要求高，但是出现偶尔断续不是太大问题，并且此处完全不可以使用重发机制）、广播通信（广播、多播）。



#### TCP三次握手
[深入浅出TCP三次握手 （多图详解） - 知乎](https://zhuanlan.zhihu.com/p/430799766)